<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rotate PDF Online - Rotate PDF Pages | PDFPro</title>
    <meta name="description" content="Free online tool to rotate PDF pages. Rotate PDF documents clockwise or counterclockwise - no server uploads, 100% secure.">
    <meta name="keywords" content="rotate pdf, rotate pdf pages, pdf rotation, rotate pdf document, online pdf rotation">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo-container">
                <a href="../index.html">
                    <i class="fas fa-file-pdf logo-icon"></i>
                    <h1>PDFPro</h1>
                </a>
            </div>
            <div class="header-info">
                <div class="privacy-badge">
                    <i class="fas fa-shield-alt"></i>
                    <span>100% Private • No Server Uploads</span>
                </div>
            </div>
        </header>

        <div class="app-content">
            <!-- Sidebar with tools -->
            <nav class="sidebar">
                <div class="sidebar-header">
                    <h3>PDF Tools</h3>
                </div>
                
                <div class="tools-category">
                    <h4><i class="fas fa-folder"></i> Organize PDF</h4>
                    <ul class="tools-list">
                        <li><a href="merge-pdf.html"><i class="fas fa-code-branch"></i> Merge PDF</a></li>
                        <li><a href="split-pdf.html"><i class="fas fa-scissors"></i> Split PDF</a></li>
                        <li><a href="remove-pages.html"><i class="fas fa-trash-alt"></i> Remove pages</a></li>
                        <li><a href="extract-pages.html"><i class="fas fa-file-export"></i> Extract pages</a></li>
                        <li><a href="organize-pdf.html"><i class="fas fa-sort"></i> Organize PDF</a></li>
                        <li><a href="scan-pdf.html"><i class="fas fa-camera"></i> Scan to PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-bolt"></i> Optimize PDF</h4>
                    <ul class="tools-list">
                        <li><a href="compress-pdf.html"><i class="fas fa-compress"></i> Compress PDF</a></li>
                        <li><a href="repair-pdf.html"><i class="fas fa-wrench"></i> Repair PDF</a></li>
                        <li><a href="ocr-pdf.html"><i class="fas fa-font"></i> OCR PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-exchange-alt"></i> Convert to PDF</h4>
                    <ul class="tools-list">
                        <li><a href="jpg-to-pdf.html"><i class="fas fa-image"></i> JPG to PDF</a></li>
                        <li><a href="word-to-pdf.html"><i class="fas fa-file-word"></i> WORD to PDF</a></li>
                        <li><a href="ppt-to-pdf.html"><i class="fas fa-file-powerpoint"></i> POWERPOINT to PDF</a></li>
                        <li><a href="excel-to-pdf.html"><i class="fas fa-file-excel"></i> EXCEL to PDF</a></li>
                        <li><a href="html-to-pdf.html"><i class="fas fa-code"></i> HTML to PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-exchange-alt"></i> Convert from PDF</h4>
                    <ul class="tools-list">
                        <li><a href="pdf-to-jpg.html"><i class="fas fa-image"></i> PDF to JPG</a></li>
                        <li><a href="pdf-to-word.html"><i class="fas fa-file-word"></i> PDF to WORD</a></li>
                        <li><a href="pdf-to-ppt.html"><i class="fas fa-file-powerpoint"></i> PDF to POWERPOINT</a></li>
                        <li><a href="pdf-to-excel.html"><i class="fas fa-file-excel"></i> PDF to EXCEL</a></li>
                        <li><a href="pdf-to-pdfa.html"><i class="fas fa-file-archive"></i> PDF to PDF/A</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-edit"></i> Edit PDF</h4>
                    <ul class="tools-list">
                        <li class="active"><a href="rotate-pdf.html"><i class="fas fa-rotate"></i> Rotate PDF</a></li>
                        <li><a href="add-page-numbers.html"><i class="fas fa-list-ol"></i> Add page numbers</a></li>
                        <li><a href="add-watermark.html"><i class="fas fa-water"></i> Add watermark</a></li>
                        <li><a href="crop-pdf.html"><i class="fas fa-crop"></i> Crop PDF</a></li>
                        <li><a href="edit-pdf.html"><i class="fas fa-edit"></i> Edit PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-lock"></i> PDF Security</h4>
                    <ul class="tools-list">
                        <li><a href="unlock-pdf.html"><i class="fas fa-unlock"></i> Unlock PDF</a></li>
                        <li><a href="protect-pdf.html"><i class="fas fa-lock"></i> Protect PDF</a></li>
                        <li><a href="sign-pdf.html"><i class="fas fa-signature"></i> Sign PDF</a></li>
                        <li><a href="redact-pdf.html"><i class="fas fa-redo"></i> Redact PDF</a></li>
                        <li><a href="compare-pdf.html"><i class="fas fa-copy"></i> Compare PDF</a></li>
                    </ul>
                </div>
            </nav>

            <!-- Main content area -->
            <main class="main-content">
                <div class="tool-header">
                    <h2>Rotate PDF</h2>
                    <div class="tool-description">
                        <p>Rotate PDF pages clockwise or counterclockwise. All processing happens in your browser - your files never leave your computer.</p>
                    </div>
                </div>

                <div class="tool-content">
                    <div class="privacy-notice">
                        <div class="notice-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="notice-content">
                            <h3>Security & Privacy</h3>
                            <ul>
                                <li><strong>No file uploads</strong> - All processing happens in your browser</li>
                                <li><strong>No tracking</strong> - We don't collect any usage data</li>
                                <li><strong>No login required</strong> - Use tools instantly</li>
                                <li><strong>100% free</strong> - No hidden costs or subscriptions</li>
                                <li><strong>Secure processing</strong> - Your documents stay private</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Tool functionality section -->
                    <div class="tool-functionality">
                        <div class="tool-description-section">
                            <h3>About PDF Rotation</h3>
                            <p>Rotating PDF pages is useful when documents have pages in the wrong orientation. Our tool allows you to rotate all pages or specific pages in a PDF document by 90, 180, or 270 degrees in either direction. This is perfect for correcting scanned documents, fixing orientation issues, or preparing documents for specific viewing requirements.</p>
                            
                            <h4>How to Rotate PDF Pages:</h4>
                            <ol>
                                <li>Upload the PDF file you want to rotate</li>
                                <li>Select the rotation angle: 90° clockwise, 180°, or 90° counterclockwise</li>
                                <li>Choose whether to rotate all pages or specific page ranges</li>
                                <li>Click "Rotate PDF" to process your document</li>
                                <li>Download the rotated PDF when complete</li>
                            </ol>
                            
                            <h4>Rotation Options Explained:</h4>
                            <ul>
                                <li><strong>90° Clockwise</strong>: Rotates pages to the right (landscape to portrait or vice versa)</li>
                                <li><strong>180°</strong>: Flips pages upside down (useful for correcting completely inverted pages)</li>
                                <li><strong>90° Counterclockwise</strong>: Rotates pages to the left (portrait to landscape or vice versa)</li>
                            </ul>
                        </div>
                        
                        <div class="tool-interface">
                            <div class="file-input-section">
                                <label for="rotate-pdf-file" class="file-upload-label">
                                    <i class="fas fa-file-pdf"></i>
                                    <span>Select PDF to rotate</span>
                                </label>
                                <input type="file" id="rotate-pdf-file" accept=".pdf">
                                <div class="rotation-options">
                                    <label>Rotation angle:
                                        <select id="rotation-angle">
                                            <option value="90">90° Clockwise</option>
                                            <option value="180">180°</option>
                                            <option value="-90">90° Counterclockwise</option>
                                        </select>
                                    </label>
                                    <label style="margin-top: 10px;">
                                        <input type="checkbox" id="all-pages-rotate" checked> Rotate all pages
                                    </label>
                                    <div id="page-range-rotate-section" style="display: none; margin-top: 10px;">
                                        <label>Page range (e.g., 1-3, 5, 7-10):
                                            <input type="text" id="page-range-rotate" placeholder="e.g., 1-5 or 1, 3, 5-7">
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="tool-controls">
                                <button id="rotate-btn" class="action-btn" disabled>
                                    <i class="fas fa-rotate"></i> Rotate PDF
                                </button>
                                <button id="download-rotated" class="action-btn secondary" style="display:none;">
                                    <i class="fas fa-download"></i> Download Rotated PDF
                                </button>
                            </div>
                        </div>
                        
                        <div class="tool-features">
                            <h3>Advanced Features</h3>
                            <div class="features-grid">
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-undo"></i>
                                    </div>
                                    <h4>Precision Rotation</h4>
                                    <p>Rotate pages by exact angles (90°, 180°, 270°) to achieve the perfect orientation</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-bolt"></i>
                                    </div>
                                    <h4>Fast Processing</h4>
                                    <p>Quickly rotate documents without waiting for server processing</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                    <h4>Secure & Private</h4>
                                    <p>Files never leave your computer, all processing is done locally</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-infinity"></i>
                                    </div>
                                    <h4>Selective Rotation</h4>
                                    <p>Rotate specific pages or page ranges instead of the entire document</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tool functionality
            let rotateFile = null;
            let rotatedPdfBytes = null;

            // All pages checkbox handler
            document.getElementById('all-pages-rotate').addEventListener('change', function(e) {
                const pageRangeSection = document.getElementById('page-range-rotate-section');
                if (e.target.checked) {
                    pageRangeSection.style.display = 'none';
                } else {
                    pageRangeSection.style.display = 'block';
                }
            });

            // File input handling
            document.getElementById('rotate-pdf-file').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file || !file.type.includes('pdf')) {
                    alert('Please select a valid PDF file.');
                    return;
                }

                rotateFile = file;
                document.getElementById('rotate-btn').disabled = false;

                // Update UI to show selected file
                const fileLabel = document.querySelector('#rotate-pdf-file + .file-upload-label span');
                fileLabel.textContent = file.name;
            });

            // Rotate PDF functionality
            document.getElementById('rotate-btn').addEventListener('click', async function() {
                if (!rotateFile) {
                    alert('Please select a PDF file to rotate.');
                    return;
                }

                try {
                    // Show processing message
                    const rotateBtn = document.getElementById('rotate-btn');
                    const originalText = rotateBtn.innerHTML;
                    rotateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Rotating...';
                    rotateBtn.disabled = true;

                    // Read file as array buffer
                    const arrayBuffer = await rotateFile.arrayBuffer();
                    
                    // Load the PDF document
                    const { PDFDocument, degrees } = window.PDFLib;
                    const pdfDoc = await PDFDocument.load(arrayBuffer);
                    
                    // Get rotation angle
                    const rotationAngle = parseInt(document.getElementById('rotation-angle').value);
                    
                    // Get page range if not rotating all pages
                    const rotateAllPages = document.getElementById('all-pages-rotate').checked;
                    let pagesToRotate = [];
                    
                    if (rotateAllPages) {
                        // Rotate all pages
                        const totalPages = pdfDoc.getPageCount();
                        for (let i = 0; i < totalPages; i++) {
                            pagesToRotate.push(i);
                        }
                    } else {
                        // Parse page range
                        const pageRangeInput = document.getElementById('page-range-rotate').value;
                        if (!pageRangeInput.trim()) {
                            alert('Please enter a page range (e.g., 1-3, 5, 7-10).');
                            rotateBtn.innerHTML = originalText;
                            rotateBtn.disabled = false;
                            return;
                        }
                        
                        // Parse the page range string
                        const ranges = pageRangeInput.split(',').map(range => range.trim());
                        for (const range of ranges) {
                            if (range.includes('-')) {
                                const [start, end] = range.split('-').map(num => parseInt(num.trim()) - 1);
                                for (let i = start; i <= end; i++) {
                                    pagesToRotate.push(i);
                                }
                            } else {
                                pagesToRotate.push(parseInt(range.trim()) - 1);
                            }
                        }
                    }

                    // Rotate the specified pages
                    const totalPages = pdfDoc.getPageCount();
                    for (const pageIndex of pagesToRotate) {
                        if (pageIndex >= 0 && pageIndex < totalPages) {
                            const page = pdfDoc.getPage(pageIndex);
                            
                            // Get current rotation and add the new rotation
                            const currentRotation = page.getRotation();
                            const newRotation = currentRotation + degrees(rotationAngle);
                            page.setRotation(newRotation);
                        }
                    }

                    // Serialize the PDF
                    const rotatedPdfBytesResult = await pdfDoc.save();

                    // Store the rotated PDF for download
                    rotatedPdfBytes = rotatedPdfBytesResult;

                    // Enable download button
                    document.getElementById('download-rotated').style.display = 'block';

                    // Reset button
                    rotateBtn.innerHTML = originalText;
                    rotateBtn.disabled = false;

                    // Show success message
                    const fileLabel = document.querySelector('#rotate-pdf-file + .file-upload-label span');
                    fileLabel.textContent = `✓ ${rotateFile.name} (rotation applied)`;

                } catch (error) {
                    console.error('Error rotating PDF:', error);
                    alert('Error rotating PDF. Please try again.');

                    // Reset button
                    const rotateBtn = document.getElementById('rotate-btn');
                    rotateBtn.innerHTML = '<i class="fas fa-rotate"></i> Rotate PDF';
                    rotateBtn.disabled = false;
                }
            });

            // Download rotated PDF
            document.getElementById('download-rotated').addEventListener('click', function() {
                if (!rotatedPdfBytes) {
                    alert('No rotated PDF available to download.');
                    return;
                }

                // Create a blob from the rotated PDF bytes
                const blob = new Blob([rotatedPdfBytes], { type: 'application/pdf' });

                // Create download link
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = 'rotated-' + rotateFile.name;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            });
        });
    </script>
</body>
</html>