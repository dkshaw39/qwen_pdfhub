<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unlock PDF Online - Remove PDF Password Protection | PDFPro</title>
    <meta name="description" content="Free online tool to unlock password-protected PDF files. Remove PDF security restrictions - no server uploads, 100% secure.">
    <meta name="keywords" content="unlock pdf, remove pdf password, unlock pdf online, pdf password remover, remove pdf security">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo-container">
                <a href="../index.html">
                    <i class="fas fa-file-pdf logo-icon"></i>
                    <h1>PDFPro</h1>
                </a>
            </div>
            <div class="header-info">
                <div class="privacy-badge">
                    <i class="fas fa-shield-alt"></i>
                    <span>100% Private • No Server Uploads</span>
                </div>
            </div>
        </header>

        <div class="app-content">
            <!-- Sidebar with tools -->
            <nav class="sidebar">
                <div class="sidebar-header">
                    <h3>PDF Tools</h3>
                </div>
                
                <div class="tools-category">
                    <h4><i class="fas fa-folder"></i> Organize PDF</h4>
                    <ul class="tools-list">
                        <li><a href="merge-pdf.html"><i class="fas fa-code-branch"></i> Merge PDF</a></li>
                        <li><a href="split-pdf.html"><i class="fas fa-scissors"></i> Split PDF</a></li>
                        <li><a href="remove-pages.html"><i class="fas fa-trash-alt"></i> Remove pages</a></li>
                        <li><a href="extract-pages.html"><i class="fas fa-file-export"></i> Extract pages</a></li>
                        <li><a href="organize-pdf.html"><i class="fas fa-sort"></i> Organize PDF</a></li>
                        <li><a href="scan-pdf.html"><i class="fas fa-camera"></i> Scan to PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-bolt"></i> Optimize PDF</h4>
                    <ul class="tools-list">
                        <li><a href="compress-pdf.html"><i class="fas fa-compress"></i> Compress PDF</a></li>
                        <li><a href="repair-pdf.html"><i class="fas fa-wrench"></i> Repair PDF</a></li>
                        <li><a href="ocr-pdf.html"><i class="fas fa-font"></i> OCR PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-exchange-alt"></i> Convert to PDF</h4>
                    <ul class="tools-list">
                        <li><a href="jpg-to-pdf.html"><i class="fas fa-image"></i> JPG to PDF</a></li>
                        <li><a href="word-to-pdf.html"><i class="fas fa-file-word"></i> WORD to PDF</a></li>
                        <li><a href="ppt-to-pdf.html"><i class="fas fa-file-powerpoint"></i> POWERPOINT to PDF</a></li>
                        <li><a href="excel-to-pdf.html"><i class="fas fa-file-excel"></i> EXCEL to PDF</a></li>
                        <li><a href="html-to-pdf.html"><i class="fas fa-code"></i> HTML to PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-exchange-alt"></i> Convert from PDF</h4>
                    <ul class="tools-list">
                        <li><a href="pdf-to-jpg.html"><i class="fas fa-image"></i> PDF to JPG</a></li>
                        <li><a href="pdf-to-word.html"><i class="fas fa-file-word"></i> PDF to WORD</a></li>
                        <li><a href="pdf-to-ppt.html"><i class="fas fa-file-powerpoint"></i> PDF to POWERPOINT</a></li>
                        <li><a href="pdf-to-excel.html"><i class="fas fa-file-excel"></i> PDF to EXCEL</a></li>
                        <li><a href="pdf-to-pdfa.html"><i class="fas fa-file-archive"></i> PDF to PDF/A</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-edit"></i> Edit PDF</h4>
                    <ul class="tools-list">
                        <li><a href="rotate-pdf.html"><i class="fas fa-rotate"></i> Rotate PDF</a></li>
                        <li><a href="add-page-numbers.html"><i class="fas fa-list-ol"></i> Add page numbers</a></li>
                        <li><a href="add-watermark.html"><i class="fas fa-water"></i> Add watermark</a></li>
                        <li><a href="crop-pdf.html"><i class="fas fa-crop"></i> Crop PDF</a></li>
                        <li><a href="edit-pdf.html"><i class="fas fa-edit"></i> Edit PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-lock"></i> PDF Security</h4>
                    <ul class="tools-list">
                        <li><a href="unlock-pdf.html"><i class="fas fa-unlock"></i> Unlock PDF</a></li>
                        <li><a href="protect-pdf.html"><i class="fas fa-lock"></i> Protect PDF</a></li>
                        <li><a href="sign-pdf.html"><i class="fas fa-signature"></i> Sign PDF</a></li>
                        <li><a href="redact-pdf.html"><i class="fas fa-redo"></i> Redact PDF</a></li>
                        <li><a href="compare-pdf.html"><i class="fas fa-copy"></i> Compare PDF</a></li>
                    </ul>
                </div>
            </nav>

            <!-- Main content area -->
            <main class="main-content">
                <div class="tool-header">
                    <h2>Unlock PDF</h2>
                    <div class="tool-description">
                        <p>Remove password protection from PDF files. All processing happens in your browser - your files never leave your computer.</p>
                    </div>
                </div>

                <div class="tool-content">
                    <div class="privacy-notice">
                        <div class="notice-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="notice-content">
                            <h3>Security & Privacy</h3>
                            <ul>
                                <li><strong>No file uploads</strong> - All processing happens in your browser</li>
                                <li><strong>No tracking</strong> - We don't collect any usage data</li>
                                <li><strong>No login required</strong> - Use tools instantly</li>
                                <li><strong>100% free</strong> - No hidden costs or subscriptions</li>
                                <li><strong>Secure processing</strong> - Your documents stay private</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Tool functionality section -->
                    <div class="tool-functionality">
                        <div class="tool-description-section">
                            <h3>About PDF Unlocking</h3>
                            <p>Unlocking password-protected PDF files is useful when you need to access or edit a document that has been secured with a password. Our tool allows you to remove password protection from PDF files, enabling you to view, print, copy, and edit the content. This is particularly useful for documents you own that you've forgotten the password for, or documents that have unnecessary restrictions.</p>
                            
                            <h4>How to Unlock PDF Files:</h4>
                            <ol>
                                <li>Upload the password-protected PDF file you want to unlock</li>
                                <li>Enter the password for the PDF file in the password field</li>
                                <li>Click "Unlock PDF" to remove the password protection</li>
                                <li>Download the unlocked PDF when complete</li>
                            </ol>
                            
                            <h4>Important Notes:</h4>
                            <ul>
                                <li>Only use this tool on PDFs you own or have permission to access</li>
                                <li>You must know the password to unlock the PDF file</li>
                                <li>The unlocked PDF will have all security restrictions removed</li>
                                <li>All processing happens locally in your browser - no files are uploaded to any server</li>
                            </ul>
                        </div>
                        
                        <div class="tool-interface">
                            <div class="file-input-section">
                                <label for="unlock-pdf-file" class="file-upload-label">
                                    <i class="fas fa-file-pdf"></i>
                                    <span>Select password-protected PDF to unlock</span>
                                </label>
                                <input type="file" id="unlock-pdf-file" accept=".pdf">
                                <div class="security-options">
                                    <label for="pdf-password">Enter PDF password:
                                        <input type="password" id="pdf-password" placeholder="Enter password">
                                    </label>
                                </div>
                            </div>
                            <div class="tool-controls">
                                <button id="unlock-btn" class="action-btn" disabled>
                                    <i class="fas fa-unlock"></i> Unlock PDF
                                </button>
                                <button id="download-unlocked" class="action-btn secondary" style="display:none;">
                                    <i class="fas fa-download"></i> Download Unlocked PDF
                                </button>
                            </div>
                        </div>
                        
                        <div class="tool-features">
                            <h3>Advanced Features</h3>
                            <div class="features-grid">
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-lock-open"></i>
                                    </div>
                                    <h4>Complete Access</h4>
                                    <p>Removes all password restrictions, allowing full access to the PDF content</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-bolt"></i>
                                    </div>
                                    <h4>Fast Processing</h4>
                                    <p>Quickly unlock documents without waiting for server processing</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                    <h4>Secure & Private</h4>
                                    <p>Files never leave your computer, all processing is done locally</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-infinity"></i>
                                    </div>
                                    <h4>Complete Removal</h4>
                                    <p>Removes all security restrictions including printing, copying, and editing limitations</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tool functionality
            let unlockFile = null;
            let unlockedPdfBytes = null;

            // File input handling
            document.getElementById('unlock-pdf-file').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file || !file.type.includes('pdf')) {
                    alert('Please select a valid PDF file.');
                    return;
                }

                unlockFile = file;
                document.getElementById('unlock-btn').disabled = false;

                // Update UI to show selected file
                const fileLabel = document.querySelector('#unlock-pdf-file + .file-upload-label span');
                fileLabel.textContent = file.name;
            });

            // Password input handling
            document.getElementById('pdf-password').addEventListener('input', function(e) {
                // Enable unlock button if both file and password are provided
                const fileSelected = unlockFile !== null;
                const passwordProvided = e.target.value.trim() !== '';
                document.getElementById('unlock-btn').disabled = !(fileSelected && passwordProvided);
            });

            // Unlock PDF functionality
            document.getElementById('unlock-btn').addEventListener('click', async function() {
                if (!unlockFile) {
                    alert('Please select a PDF file to unlock.');
                    return;
                }

                const password = document.getElementById('pdf-password').value;
                if (!password) {
                    alert('Please enter the PDF password.');
                    return;
                }

                try {
                    // Show processing message
                    const unlockBtn = document.getElementById('unlock-btn');
                    const originalText = unlockBtn.innerHTML;
                    unlockBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Unlocking...';
                    unlockBtn.disabled = true;

                    // Read file as array buffer
                    const arrayBuffer = await unlockFile.arrayBuffer();
                    
                    // Load the PDF document with password
                    const { PDFDocument } = window.PDFLib;
                    
                    try {
                        // Try to load the PDF with the provided password
                        const pdfDoc = await PDFDocument.load(arrayBuffer, {
                            password: password
                        });
                        
                        // Save the PDF without password protection
                        const unlockedPdfBytesResult = await pdfDoc.save();
                        
                        // Store the unlocked PDF for download
                        unlockedPdfBytes = unlockedPdfBytesResult;

                        // Enable download button
                        document.getElementById('download-unlocked').style.display = 'block';

                        // Reset button
                        unlockBtn.innerHTML = originalText;
                        unlockBtn.disabled = false;

                        // Show success message
                        const fileLabel = document.querySelector('#unlock-pdf-file + .file-upload-label span');
                        fileLabel.textContent = `✓ ${unlockFile.name} (unlocked)`;
                        
                    } catch (loadError) {
                        console.error('Error loading PDF with password:', loadError);
                        alert('Incorrect password. Please try again.');
                        
                        // Reset button
                        unlockBtn.innerHTML = originalText;
                        unlockBtn.disabled = false;
                        return;
                    }

                } catch (error) {
                    console.error('Error unlocking PDF:', error);
                    alert('Error unlocking PDF. Please try again.');

                    // Reset button
                    const unlockBtn = document.getElementById('unlock-btn');
                    unlockBtn.innerHTML = '<i class="fas fa-unlock"></i> Unlock PDF';
                    unlockBtn.disabled = false;
                }
            });

            // Download unlocked PDF
            document.getElementById('download-unlocked').addEventListener('click', function() {
                if (!unlockedPdfBytes) {
                    alert('No unlocked PDF available to download.');
                    return;
                }

                // Create a blob from the unlocked PDF bytes
                const blob = new Blob([unlockedPdfBytes], { type: 'application/pdf' });

                // Create download link
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = 'unlocked-' + unlockFile.name;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            });
        });
    </script>
</body>
</html>