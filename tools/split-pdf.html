<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Split PDF Files Online - Divide PDF into Multiple Files | PDFPro</title>
    <meta name="description" content="Free online tool to split PDF files into multiple documents. Split PDFs by page ranges or individual pages - no server uploads, 100% secure.">
    <meta name="keywords" content="split pdf, divide pdf, pdf splitter, pdf pages, extract pdf pages, online pdf tool">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo-container">
                <a href="../index.html">
                    <i class="fas fa-file-pdf logo-icon"></i>
                    <h1>PDFPro</h1>
                </a>
            </div>
            <div class="header-info">
                <div class="privacy-badge">
                    <i class="fas fa-shield-alt"></i>
                    <span>100% Private â€¢ No Server Uploads</span>
                </div>
            </div>
        </header>

        <div class="app-content">
            <!-- Sidebar with tools -->
            <nav class="sidebar">
                <div class="sidebar-header">
                    <h3>PDF Tools</h3>
                </div>
                
                <div class="tools-category">
                    <h4><i class="fas fa-folder"></i> Organize PDF</h4>
                    <ul class="tools-list">
                        <li><a href="merge-pdf.html"><i class="fas fa-code-branch"></i> Merge PDF</a></li>
                        <li class="active"><a href="split-pdf.html"><i class="fas fa-scissors"></i> Split PDF</a></li>
                        <li><a href="remove-pages.html"><i class="fas fa-trash-alt"></i> Remove pages</a></li>
                        <li><a href="extract-pages.html"><i class="fas fa-file-export"></i> Extract pages</a></li>
                        <li><a href="organize-pdf.html"><i class="fas fa-sort"></i> Organize PDF</a></li>
                        <li><a href="scan-pdf.html"><i class="fas fa-camera"></i> Scan to PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-bolt"></i> Optimize PDF</h4>
                    <ul class="tools-list">
                        <li><a href="compress-pdf.html"><i class="fas fa-compress"></i> Compress PDF</a></li>
                        <li><a href="repair-pdf.html"><i class="fas fa-wrench"></i> Repair PDF</a></li>
                        <li><a href="ocr-pdf.html"><i class="fas fa-font"></i> OCR PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-exchange-alt"></i> Convert to PDF</h4>
                    <ul class="tools-list">
                        <li><a href="jpg-to-pdf.html"><i class="fas fa-image"></i> JPG to PDF</a></li>
                        <li><a href="word-to-pdf.html"><i class="fas fa-file-word"></i> WORD to PDF</a></li>
                        <li><a href="ppt-to-pdf.html"><i class="fas fa-file-powerpoint"></i> POWERPOINT to PDF</a></li>
                        <li><a href="excel-to-pdf.html"><i class="fas fa-file-excel"></i> EXCEL to PDF</a></li>
                        <li><a href="html-to-pdf.html"><i class="fas fa-code"></i> HTML to PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-exchange-alt"></i> Convert from PDF</h4>
                    <ul class="tools-list">
                        <li><a href="pdf-to-jpg.html"><i class="fas fa-image"></i> PDF to JPG</a></li>
                        <li><a href="pdf-to-word.html"><i class="fas fa-file-word"></i> PDF to WORD</a></li>
                        <li><a href="pdf-to-ppt.html"><i class="fas fa-file-powerpoint"></i> PDF to POWERPOINT</a></li>
                        <li><a href="pdf-to-excel.html"><i class="fas fa-file-excel"></i> PDF to EXCEL</a></li>
                        <li><a href="pdf-to-pdfa.html"><i class="fas fa-file-archive"></i> PDF to PDF/A</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-edit"></i> Edit PDF</h4>
                    <ul class="tools-list">
                        <li><a href="rotate-pdf.html"><i class="fas fa-rotate"></i> Rotate PDF</a></li>
                        <li><a href="add-page-numbers.html"><i class="fas fa-list-ol"></i> Add page numbers</a></li>
                        <li><a href="add-watermark.html"><i class="fas fa-water"></i> Add watermark</a></li>
                        <li><a href="crop-pdf.html"><i class="fas fa-crop"></i> Crop PDF</a></li>
                        <li><a href="edit-pdf.html"><i class="fas fa-edit"></i> Edit PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-lock"></i> PDF Security</h4>
                    <ul class="tools-list">
                        <li><a href="unlock-pdf.html"><i class="fas fa-unlock"></i> Unlock PDF</a></li>
                        <li><a href="protect-pdf.html"><i class="fas fa-lock"></i> Protect PDF</a></li>
                        <li><a href="sign-pdf.html"><i class="fas fa-signature"></i> Sign PDF</a></li>
                        <li><a href="redact-pdf.html"><i class="fas fa-redo"></i> Redact PDF</a></li>
                        <li><a href="compare-pdf.html"><i class="fas fa-copy"></i> Compare PDF</a></li>
                    </ul>
                </div>
            </nav>

            <!-- Main content area -->
            <main class="main-content">
                <div class="tool-header">
                    <h2>Split PDF Files</h2>
                    <div class="tool-description">
                        <p>Split a PDF document into multiple files. All processing happens in your browser - your files never leave your computer.</p>
                    </div>
                </div>

                <div class="tool-content">
                    <div class="privacy-notice">
                        <div class="notice-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="notice-content">
                            <h3>Security & Privacy</h3>
                            <ul>
                                <li><strong>No file uploads</strong> - All processing happens in your browser</li>
                                <li><strong>No tracking</strong> - We don't collect any usage data</li>
                                <li><strong>No login required</strong> - Use tools instantly</li>
                                <li><strong>100% free</strong> - No hidden costs or subscriptions</li>
                                <li><strong>Secure processing</strong> - Your documents stay private</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Tool functionality section -->
                    <div class="tool-functionality">
                        <div class="tool-description-section">
                            <h3>About PDF Splitting</h3>
                            <p>Splitting PDF files is useful when you need to separate specific pages or sections from a document. Our tool allows you to split PDFs in multiple ways: by individual pages, by page ranges, or into separate files for each page. This is perfect for extracting specific chapters, sections, or pages from larger documents.</p>
                            
                            <h4>How to Split PDF Files:</h4>
                            <ol>
                                <li>Upload the PDF file you want to split</li>
                                <li>Select your preferred split method: by single pages or by page ranges</li>
                                <li>If using page ranges, enter the ranges in the format: 1-3, 5-7 (for pages 1-3 and 5-7)</li>
                                <li>Click "Split PDF" to process your document</li>
                                <li>Download the resulting PDF files when complete</li>
                            </ol>
                        </div>
                        
                        <div class="tool-interface">
                            <div class="file-input-section">
                                <label for="split-file" class="file-upload-label">
                                    <i class="fas fa-file-pdf"></i>
                                    <span>Select PDF to split</span>
                                </label>
                                <input type="file" id="split-file" accept=".pdf">
                                <div class="split-options">
                                    <label>Split by:
                                        <select id="split-method">
                                            <option value="single">Single pages</option>
                                            <option value="range">Page ranges</option>
                                        </select>
                                    </label>
                                    <input type="text" id="page-ranges" placeholder="e.g., 1-3, 5-7" style="display:none;">
                                </div>
                            </div>
                            <div class="tool-controls">
                                <button id="split-btn" class="action-btn" disabled>
                                    <i class="fas fa-scissors"></i> Split PDF
                                </button>
                                <div class="output-files" id="split-output" style="display:none;">
                                    <h4>Split Files:</h4>
                                    <div id="split-files-list"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tool-features">
                            <h3>Advanced Features</h3>
                            <div class="features-grid">
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                    <h4>Preserve Quality</h4>
                                    <p>Maintains the original quality of all pages during the splitting process</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-bolt"></i>
                                    </div>
                                    <h4>Fast Processing</h4>
                                    <p>Quickly split documents without waiting for server processing</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                    <h4>Secure & Private</h4>
                                    <p>Files never leave your computer, all processing is done locally</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-infinity"></i>
                                    </div>
                                    <h4>Flexible Splitting</h4>
                                    <p>Split by individual pages or custom page ranges to extract exactly what you need</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tool functionality
            let splitFile = null;
            let splitPdfs = null;

            // Split method change handler
            document.getElementById('split-method').addEventListener('change', function(e) {
                const pageRangesInput = document.getElementById('page-ranges');
                if (e.target.value === 'range') {
                    pageRangesInput.style.display = 'block';
                } else {
                    pageRangesInput.style.display = 'none';
                }
            });

            // File input handling
            document.getElementById('split-file').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file || !file.type.includes('pdf')) {
                    alert('Please select a valid PDF file.');
                    return;
                }

                splitFile = file;
                document.getElementById('split-btn').disabled = false;

                // Update UI to show selected file
                const fileLabel = document.querySelector('#split-file + .file-upload-label span');
                fileLabel.textContent = file.name;
            });

            // Split PDF functionality
            document.getElementById('split-btn').addEventListener('click', async function() {
                if (!splitFile) {
                    alert('Please select a PDF file to split.');
                    return;
                }

                try {
                    // Show processing message
                    const splitBtn = document.getElementById('split-btn');
                    const originalText = splitBtn.innerHTML;
                    splitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Splitting...';
                    splitBtn.disabled = true;

                    // Read file as array buffer
                    const arrayBuffer = await splitFile.arrayBuffer();
                    
                    // Load the PDF document
                    const { PDFDocument } = window.PDFLib;
                    const pdfDoc = await PDFDocument.load(arrayBuffer);
                    const totalPages = pdfDoc.getPageCount();

                    const splitMethod = document.getElementById('split-method').value;
                    let pageRanges = [];

                    if (splitMethod === 'single') {
                        // Split into individual pages
                        for (let i = 0; i < totalPages; i++) {
                            pageRanges.push([i]);
                        }
                    } else {
                        // Split by page ranges
                        const rangeInput = document.getElementById('page-ranges').value;
                        if (!rangeInput.trim()) {
                            alert('Please enter page ranges (e.g., 1-3, 5-7).');
                            splitBtn.innerHTML = originalText;
                            splitBtn.disabled = false;
                            return;
                        }

                        // Parse page ranges
                        const ranges = rangeInput.split(',').map(range => range.trim());
                        for (const range of ranges) {
                            if (range.includes('-')) {
                                const [start, end] = range.split('-').map(num => parseInt(num.trim()) - 1);
                                const rangeArray = [];
                                for (let i = start; i <= end && i < totalPages; i++) {
                                    rangeArray.push(i);
                                }
                                if (rangeArray.length > 0) {
                                    pageRanges.push(rangeArray);
                                }
                            } else {
                                const pageNum = parseInt(range.trim()) - 1;
                                if (pageNum < totalPages) {
                                    pageRanges.push([pageNum]);
                                }
                            }
                        }
                    }

                    // Create split PDFs
                    splitPdfs = [];
                    for (let i = 0; i < pageRanges.length; i++) {
                        const newPdf = await PDFDocument.create();
                        const pagesToCopy = pageRanges[i];

                        const copiedPages = await newPdf.copyPages(pdfDoc, pagesToCopy);
                        copiedPages.forEach(page => newPdf.addPage(page));

                        const pdfBytes = await newPdf.save();
                        splitPdfs.push({
                            bytes: pdfBytes,
                            name: `${splitFile.name.replace('.pdf', '')}_pages_${pagesToCopy[0] + 1}-${pagesToCopy[pagesToCopy.length - 1] + 1}.pdf`
                        });
                    }

                    // Display split files
                    displaySplitFiles();

                    // Reset button
                    splitBtn.innerHTML = originalText;
                    splitBtn.disabled = false;

                } catch (error) {
                    console.error('Error splitting PDF:', error);
                    alert('Error splitting PDF. Please try again.');

                    // Reset button
                    const splitBtn = document.getElementById('split-btn');
                    splitBtn.innerHTML = '<i class="fas fa-scissors"></i> Split PDF';
                    splitBtn.disabled = false;
                }
            });

            function displaySplitFiles() {
                const splitOutput = document.getElementById('split-output');
                const splitFilesList = document.getElementById('split-files-list');

                splitFilesList.innerHTML = '';

                splitPdfs.forEach((pdf, index) => {
                    const fileItem = document.createElement('div');
                    fileItem.className = 'split-file-item';

                    fileItem.innerHTML = `
                        <div class="file-info">
                            <i class="fas fa-file-pdf" style="color: #e74c3c;"></i>
                            <span>${pdf.name}</span>
                        </div>
                        <div class="file-actions">
                            <button class="action-btn secondary" onclick="downloadSplitPDF(${index})">
                                <i class="fas fa-download"></i> Download
                            </button>
                        </div>
                    `;

                    splitFilesList.appendChild(fileItem);
                });

                splitOutput.style.display = 'block';
            }

            // Make downloadSplitPDF function global so it can be called from the onclick
            window.downloadSplitPDF = function(index) {
                if (!splitPdfs || !splitPdfs[index]) {
                    alert('PDF not available for download.');
                    return;
                }

                const pdf = splitPdfs[index];
                const blob = new Blob([pdf.bytes], { type: 'application/pdf' });

                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = pdf.name;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };
        });
    </script>
</body>
</html>