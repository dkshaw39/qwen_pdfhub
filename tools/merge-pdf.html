<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merge PDF Files Online - Combine Multiple PDFs | PDFPro</title>
    <meta name="description" content="Free online tool to merge multiple PDF files into a single document. Combine PDFs instantly in your browser - no server uploads, 100% secure.">
    <meta name="keywords" content="merge pdf, combine pdf, join pdf, pdf merger, pdf combiner, online pdf tool">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo-container">
                <a href="../index.html">
                    <i class="fas fa-file-pdf logo-icon"></i>
                    <h1>PDFPro</h1>
                </a>
            </div>
            <div class="header-info">
                <div class="privacy-badge">
                    <i class="fas fa-shield-alt"></i>
                    <span>100% Private â€¢ No Server Uploads</span>
                </div>
            </div>
        </header>

        <div class="app-content">
            <!-- Sidebar with tools -->
            <nav class="sidebar">
                <div class="sidebar-header">
                    <h3>PDF Tools</h3>
                </div>
                
                <div class="tools-category">
                    <h4><i class="fas fa-folder"></i> Organize PDF</h4>
                    <ul class="tools-list">
                        <li class="active"><a href="merge-pdf.html"><i class="fas fa-code-branch"></i> Merge PDF</a></li>
                        <li><a href="split-pdf.html"><i class="fas fa-scissors"></i> Split PDF</a></li>
                        <li><a href="remove-pages.html"><i class="fas fa-trash-alt"></i> Remove pages</a></li>
                        <li><a href="extract-pages.html"><i class="fas fa-file-export"></i> Extract pages</a></li>
                        <li><a href="organize-pdf.html"><i class="fas fa-sort"></i> Organize PDF</a></li>
                        <li><a href="scan-pdf.html"><i class="fas fa-camera"></i> Scan to PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-bolt"></i> Optimize PDF</h4>
                    <ul class="tools-list">
                        <li><a href="compress-pdf.html"><i class="fas fa-compress"></i> Compress PDF</a></li>
                        <li><a href="repair-pdf.html"><i class="fas fa-wrench"></i> Repair PDF</a></li>
                        <li><a href="ocr-pdf.html"><i class="fas fa-font"></i> OCR PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-exchange-alt"></i> Convert to PDF</h4>
                    <ul class="tools-list">
                        <li><a href="jpg-to-pdf.html"><i class="fas fa-image"></i> JPG to PDF</a></li>
                        <li><a href="word-to-pdf.html"><i class="fas fa-file-word"></i> WORD to PDF</a></li>
                        <li><a href="ppt-to-pdf.html"><i class="fas fa-file-powerpoint"></i> POWERPOINT to PDF</a></li>
                        <li><a href="excel-to-pdf.html"><i class="fas fa-file-excel"></i> EXCEL to PDF</a></li>
                        <li><a href="html-to-pdf.html"><i class="fas fa-code"></i> HTML to PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-exchange-alt"></i> Convert from PDF</h4>
                    <ul class="tools-list">
                        <li><a href="pdf-to-jpg.html"><i class="fas fa-image"></i> PDF to JPG</a></li>
                        <li><a href="pdf-to-word.html"><i class="fas fa-file-word"></i> PDF to WORD</a></li>
                        <li><a href="pdf-to-ppt.html"><i class="fas fa-file-powerpoint"></i> PDF to POWERPOINT</a></li>
                        <li><a href="pdf-to-excel.html"><i class="fas fa-file-excel"></i> PDF to EXCEL</a></li>
                        <li><a href="pdf-to-pdfa.html"><i class="fas fa-file-archive"></i> PDF to PDF/A</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-edit"></i> Edit PDF</h4>
                    <ul class="tools-list">
                        <li><a href="rotate-pdf.html"><i class="fas fa-rotate"></i> Rotate PDF</a></li>
                        <li><a href="add-page-numbers.html"><i class="fas fa-list-ol"></i> Add page numbers</a></li>
                        <li><a href="add-watermark.html"><i class="fas fa-water"></i> Add watermark</a></li>
                        <li><a href="crop-pdf.html"><i class="fas fa-crop"></i> Crop PDF</a></li>
                        <li><a href="edit-pdf.html"><i class="fas fa-edit"></i> Edit PDF</a></li>
                    </ul>
                </div>

                <div class="tools-category">
                    <h4><i class="fas fa-lock"></i> PDF Security</h4>
                    <ul class="tools-list">
                        <li><a href="unlock-pdf.html"><i class="fas fa-unlock"></i> Unlock PDF</a></li>
                        <li><a href="protect-pdf.html"><i class="fas fa-lock"></i> Protect PDF</a></li>
                        <li><a href="sign-pdf.html"><i class="fas fa-signature"></i> Sign PDF</a></li>
                        <li><a href="redact-pdf.html"><i class="fas fa-redo"></i> Redact PDF</a></li>
                        <li><a href="compare-pdf.html"><i class="fas fa-copy"></i> Compare PDF</a></li>
                    </ul>
                </div>
            </nav>

            <!-- Main content area -->
            <main class="main-content">
                <div class="tool-header">
                    <h2>Merge PDF Files</h2>
                    <div class="tool-description">
                        <p>Combine multiple PDF files into a single document. All processing happens in your browser - your files never leave your computer.</p>
                    </div>
                </div>

                <div class="tool-content">
                    <div class="privacy-notice">
                        <div class="notice-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="notice-content">
                            <h3>Security & Privacy</h3>
                            <ul>
                                <li><strong>No file uploads</strong> - All processing happens in your browser</li>
                                <li><strong>No tracking</strong> - We don't collect any usage data</li>
                                <li><strong>No login required</strong> - Use tools instantly</li>
                                <li><strong>100% free</strong> - No hidden costs or subscriptions</li>
                                <li><strong>Secure processing</strong> - Your documents stay private</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Tool functionality section -->
                    <div class="tool-functionality">
                        <div class="tool-description-section">
                            <h3>About PDF Merging</h3>
                            <p>Merging PDF files is a common task for combining multiple documents into a single file. Our tool allows you to easily merge multiple PDFs while maintaining the quality and structure of the original documents. Whether you need to combine reports, contracts, presentations, or any other PDF documents, our tool makes it simple and secure.</p>
                            
                            <h4>How to Merge PDF Files:</h4>
                            <ol>
                                <li>Upload the PDF files you want to merge using the button below</li>
                                <li>Reorder files by dragging and dropping if needed</li>
                                <li>Click "Merge PDFs" to combine all files</li>
                                <li>Download your merged PDF file when complete</li>
                            </ol>
                        </div>
                        
                        <div class="tool-interface">
                            <div class="file-input-section">
                                <label for="merge-files" class="file-upload-label">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <span>Select PDF files to merge</span>
                                </label>
                                <input type="file" id="merge-files" accept=".pdf" multiple>
                                <div class="file-list" id="merge-file-list">
                                    <p>No files selected yet</p>
                                </div>
                            </div>
                            <div class="tool-controls">
                                <button id="merge-btn" class="action-btn" disabled>
                                    <i class="fas fa-code-branch"></i> Merge PDFs
                                </button>
                                <button id="download-merged" class="action-btn secondary" style="display:none;">
                                    <i class="fas fa-download"></i> Download Merged PDF
                                </button>
                            </div>
                        </div>
                        
                        <div class="tool-features">
                            <h3>Advanced Features</h3>
                            <div class="features-grid">
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                    <h4>Preserve Quality</h4>
                                    <p>Maintains the original quality of all PDF files during merging process</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-bolt"></i>
                                    </div>
                                    <h4>Fast Processing</h4>
                                    <p>Quickly merge multiple files without waiting for server processing</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-lock"></i>
                                    </div>
                                    <h4>Secure & Private</h4>
                                    <p>Files never leave your computer, all processing is done locally</p>
                                </div>
                                
                                <div class="feature-card">
                                    <div class="feature-icon">
                                        <i class="fas fa-infinity"></i>
                                    </div>
                                    <h4>No Size Limits</h4>
                                    <p>Merge PDFs of any size (subject to browser memory limitations)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tool functionality
            let files = [];
            let mergedPdfBytes = null;

            // File input handling
            document.getElementById('merge-files').addEventListener('change', function(e) {
                files = Array.from(e.target.files);
                
                const fileList = document.getElementById('merge-file-list');
                if (files.length > 0) {
                    fileList.innerHTML = '<ul>';
                    files.forEach((file, index) => {
                        fileList.innerHTML += `<li>${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)</li>`;
                    });
                    fileList.innerHTML += '</ul>';
                    document.getElementById('merge-btn').disabled = false;
                } else {
                    fileList.innerHTML = '<p>No files selected yet</p>';
                    document.getElementById('merge-btn').disabled = true;
                }
            });

            // Merge PDFs functionality
            document.getElementById('merge-btn').addEventListener('click', async function() {
                if (files.length < 2) {
                    alert('Please select at least 2 PDF files to merge.');
                    return;
                }

                try {
                    // Show processing message
                    const mergeBtn = document.getElementById('merge-btn');
                    const originalText = mergeBtn.innerHTML;
                    mergeBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Merging...';
                    mergeBtn.disabled = true;

                    // Create a new PDF document
                    const { PDFDocument } = window.PDFLib;
                    const mergedPdf = await PDFDocument.create();

                    for (const file of files) {
                        // Check if it's a PDF file
                        if (!file.type.includes('pdf')) {
                            alert(`File ${file.name} is not a PDF. Please select only PDF files.`);
                            continue;
                        }

                        // Read file as array buffer
                        const arrayBuffer = await file.arrayBuffer();
                        
                        // Load the PDF document
                        const pdfDoc = await PDFDocument.load(arrayBuffer);
                        
                        // Copy pages from the source document to the merged document
                        const copiedPages = await mergedPdf.copyPages(pdfDoc, pdfDoc.getPageIndices());
                        copiedPages.forEach(page => mergedPdf.addPage(page));
                    }

                    // Serialize the merged PDF
                    const mergedPdfBytesResult = await mergedPdf.save();

                    // Store the merged PDF for download
                    mergedPdfBytes = mergedPdfBytesResult;

                    // Enable download button
                    document.getElementById('download-merged').style.display = 'block';

                    // Reset button
                    mergeBtn.innerHTML = originalText;
                    mergeBtn.disabled = false;

                    // Show success message
                    const fileList = document.getElementById('merge-file-list');
                    fileList.innerHTML += '<p style="color: #2ecc71; font-weight: bold;">Merge completed successfully!</p>';
                } catch (error) {
                    console.error('Error merging PDFs:', error);
                    alert('Error merging PDFs. Please try again.');
                    
                    // Reset button
                    const mergeBtn = document.getElementById('merge-btn');
                    mergeBtn.innerHTML = '<i class="fas fa-code-branch"></i> Merge PDFs';
                    mergeBtn.disabled = false;
                }
            });

            // Download merged PDF
            document.getElementById('download-merged').addEventListener('click', function() {
                if (!mergedPdfBytes) {
                    alert('No merged PDF available to download.');
                    return;
                }

                // Create a blob from the merged PDF bytes
                const blob = new Blob([mergedPdfBytes], { type: 'application/pdf' });
                
                // Create download link
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = 'merged-pdf.pdf';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            });
        });
    </script>
</body>
</html>